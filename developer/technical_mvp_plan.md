
# Технический план MVP: EdTech-платформа "Первый шаг к новой карьере"

**1. Выбор технологического стека**

Основываясь на моем первоначальном анализе и требованиях MVP, я подтверждаю выбор **Варианта 2: "Low-code" MVP**. Это обеспечит наилучший баланс между скоростью разработки и гибкостью для будущего масштабирования.

*   **Фронтенд:** **React (Next.js)**. Next.js предоставляет отличную структуру для SEO-оптимизированных страниц (что важно для страниц курсов) и простую настройку.
*   **UI-библиотека:** **Tailwind CSS**. Позволяет быстро создавать кастомный дизайн без написания большого количества CSS.
*   **Бэкенд, База данных, Аутентификация:** **Supabase**. Это open-source альтернатива Firebase, которая предоставляет нам:
    *   Полноценную базу данных PostgreSQL.
    *   Готовую систему аутентификации (email/пароль, соцсети).
    *   Хранилище для файлов (видео, материалы курсов).
    *   Auto-генерируемый API.
*   **Платежи:** **Stripe**. Индустриальный стандарт для приема платежей, с отличной документацией и готовыми React-компонентами.
*   **Деплой:** **Vercel**. Идеально интегрируется с Next.js, предоставляет автоматический деплой из Git и щедрый бесплатный тариф.

**2. Архитектура приложения**

Архитектура будет простой и эффективной:

1.  **Клиент (Браузер):** Пользователь открывает наше Next.js приложение, развернутое на Vercel.
2.  **Аутентификация:** React-приложение напрямую взаимодействует с Supabase Auth для регистрации и входа.
3.  **Данные:** Приложение запрашивает списки курсов, уроки и т.д. напрямую из базы данных Supabase с помощью их JS-клиента. Политики безопасности на уровне строк (Row Level Security) в PostgreSQL обеспечат, что пользователи видят только те данные, которые им разрешены (например, купленные курсы).
4.  **Оплата:** При клике на "Купить" фронтенд обращается к Stripe для создания сессии оплаты. После успешной оплаты Stripe через вебхук уведомляет наш бэкенд (можно реализовать через Vercel Serverless Functions), который записывает факт покупки в базу данных Supabase.

**3. Схема базы данных (Supabase/PostgreSQL)**

Нам понадобятся следующие таблицы:

*   `courses`:
    *   `id` (uuid, primary key)
    *   `title` (text)
    *   `description` (text)
    *   `price` (numeric)
    *   `expert_name` (text)
*   `lessons`:
    *   `id` (uuid, primary key)
    *   `course_id` (uuid, foreign key to `courses`)
    *   `title` (text)
    *   `video_url` (text) - ссылка на видео в Supabase Storage
    *   `position` (integer) - для сортировки уроков
*   `enrollments` (связующая таблица):
    *   `user_id` (uuid, foreign key to `auth.users`)
    *   `course_id` (uuid, foreign key to `courses`)
*   `progress` (отслеживание прогресса):
    *   `user_id` (uuid)
    *   `lesson_id` (uuid)
    *   `completed_at` (timestamp)

**4. Декомпозиция задач и Roadmap (4 недели разработки)**

*   **Неделя 1: Основа и Аутентификация**
    *   [ ] Инициализировать проект Next.js + Tailwind CSS.
    *   [ ] Настроить проект в Supabase.
    *   [ ] Создать таблицы в базе данных.
    *   [ ] Реализовать регистрацию, вход и выход пользователя через Supabase Auth.
    *   [ ] Создать базовый макет сайта (шапка, подвал).

*   **Неделя 2: Каталог и Покупка курсов**
    *   [ ] Создать страницу "Каталог курсов", которая загружает данные из Supabase.
    *   [ ] Создать динамическую страницу для каждого курса.
    *   [ ] Интегрировать Stripe SDK.
    *   [ ] Реализовать логику покупки: создание сессии оплаты и обработка успешного платежа.
    *   [ ] Записывать успешные покупки в таблицу `enrollments`.

*   **Неделя 3: Обучение**
    *   [ ] Создать страницу "Личный кабинет", где пользователь видит свои курсы.
    *   [ ] Создать страницу "Просмотр курса" (плеер), доступную только для купивших пользователей.
    *   [ ] Реализовать логику отображения уроков и отметки их как пройденных.

*   **Неделя 4: Завершение и Деплой**
    *   [ ] Настроить адаптивный дизайн для мобильных устройств.
    *   [ ] Добавить обработку ошибок и состояний загрузки.
    *   [ ] Настроить деплой на Vercel.
    *   [ ] Провести финальное тестирование всего функционала.

**5. Риски**

*   **Контент:** Разработка может опередить создание контента для курсов. Нужно получить хотя бы один пилотный курс (видео, тексты) к началу 3-й недели разработки.
*   **Платежи:** Интеграция Stripe, особенно обработка вебхуков, требует тщательного тестирования.

Этот план дает четкое представление о том, как мы будем создавать MVP.
